<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures en JavaScript</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 class="Titulo">Closures en JavaScript</h1>
    <div class="navegacion-izq">
        <button onclick="location.href='3-Funciones de Orden Superior.html'" ;>Funciones de Orden Superior</button>
    </div>
    <div class="navegacion-der">
        <button onclick="location.href=''"></button>
    </div>

    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Ejercicios 7: Closure para contar</h2>
                <div class="cuerpo">
                    <p>
                        Literalmente cuenta
                    </p>
                    <p>
                    <h3 id="title">Ejemplo</h3>
                    En este ejemplo, crearContador define una variable contador que no es accesible desde el exterior.
                    Sin embargo, la función interna que se devuelve
                    puede acceder y modificar contador, creando un estado privado.
                    </p>
                    <button id="contar">Ejecutar Operacion</button>
                    <script>
                        function crearContador() {
                            let contador = 0;
                            return function () {
                                contador += 1;
                                return contador;
                            };
                        }
                        const contador = crearContador();
                        const contar = document.getElementById('contar');
                        contar.addEventListener('click', () => {
                            alert("La funcion se ha ejecutado: " + (contador()));
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <p>
                <h3 id="title">Funcion</h3>
                <p>
                    const contador = crearContador();
                </p>
                function crearContador() {
                let contador = 0;
                return function () {
                contador += 1;
                return contador;
                };
                }
                </p>
            </div>
        </div>
    </div>

    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Ejercicio 8: Función de orden superior que retorna otra función</h2>
                <div class="cuerpo">
                    <p>
                        Este ejercicio demuestra cómo crear una función que devuelve otra función, ilustrando el
                        concepto de closures en JavaScript.
                    </p>
                    <p>
                    <h3 id="title">Ejemplo</h3>
                    Saluda en diferentes idiomas utilizando closures
                    </p>
                    <button id="Saludar-Esp">Saluda en Español</button>
                    <button id="Saludar-Ing">Saluda en Ingles</button>
                    <script>
                        function crearSaludo(saludo) {
                            return function (nombre) {
                                return `${saludo}, ${nombre}!`;
                            };
                        }
                        const saludarEnEspanol = crearSaludo('Hola');
                        const saludarEnIngles = crearSaludo('Hello');

                        const saludoS = document.getElementById('Saludar-Esp');
                        saludoS.addEventListener('click', () => {
                            alert((saludarEnEspanol('Juan')));
                        });
                        const saludoI = document.getElementById('Saludar-Ing');
                        saludoI.addEventListener('click', () => {
                            alert((saludarEnIngles('Cagarlos')));
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <p>
                <h3 id="title">Funcion</h3>
                <p>
                    const saludarEnEspanol = crearSaludo('Hola');
                <p>const saludarEnIngles = crearSaludo('Hello');</p>
                </p>
                function crearSaludo(saludo) {
                return function (nombre) {
                return `${saludo}, ${nombre}!`;
                };
                }
                </p>
            </div>
        </div>
    </div>

    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Ejercicio 9. Funciones con argumentos predeterminados</h2>
                <div class="cuerpo">
                    <p>
                        Las funciones con argumentos predeterminados permiten que un parámetro tenga un valor inicial en
                        caso de que no se proporcione al llamar a la función.
                    </p>
                    <p>
                    <h3 id="title">Ejemplo</h3>
                    Este código crea funciones para multiplicar números, y al dar clic en el botón "Duplicar" muestra en
                    una alerta el resultado de duplicar y triplicar el número 5.
                    </p>
                    <button id="Duplicar">Ejecutar Operacion</button>
                    <script>
                        const duplicar = crearMultiplicador(2);
                        const triplicar = crearMultiplicador(3);
                        function crearMultiplicador(factor) {
                            return function (numero) {
                                return numero * factor;
                            };
                        }
                        const Duplicar = document.getElementById('Duplicar');
                        Duplicar.addEventListener('click', () => {
                            alert("El resultado de duplicar 5 es: " + (duplicar(5)) + "\n" + "El resultado de triplicar 5 es: " + (triplicar(5)));
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <p>
                <h3 id="title">Funcion</h3>
                <p>
                    const triplicar = crearMultiplicador(2);
                <p>const triplicar = crearMultiplicador(3);</p>
                </p>
                function crearMultiplicador(factor) {
                return function(numero) {
                return numero * factor;
                };
                }
                </p>
            </div>
        </div>
    </div>

    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Patrón Revelador</h2>
                <div class="cuerpo">
                    <p>
                        El patrón revelador es un patrón de diseño que utiliza closures para encapsular la lógica y
                        exponer solo ciertas partes de un objeto o módulo. Esto permite ocultar la implementación
                        interna y proteger el
                        estado
                    </p>
                    <p>
                    <h3 id="title">Ejemplo</h3>
                    Este código crea un contador privado y seguro dentro de un módulo, al cual solo se puede acceder
                    mediante las funciones incrementar y obtenerContador. Cada clic en el botón va aumentando el valor
                    del contador de manera persistente
                    </p>
                    <button id="Incrementado">Ver funcion</button>
                    <script>
                        const moduloContador = (function () {
                            let contador = 0; // Variable privada
                            return {
                                incrementar: function () {
                                    contador++;
                                    return contador;
                                },
                                obtenerContador: function () {
                                    return contador;
                                }
                            };
                        })();
                        Incrementado = document.getElementById('Incrementado');
                        Incrementado.addEventListener('click', () => {
                            alert("El contador es: " + moduloContador.incrementar() + "\n" + "El contador es: " + moduloContador.incrementar() + "\n" + "El contador es: " + moduloContador.obtenerContador());
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <p>
                <h3 id="title">Funcion</h3>
                const moduloContador = (function () {
                let contador = 0; // Variable privada
                return {
                incrementar: function () {
                contador++;
                return contador;
                },
                obtenerContador: function () {
                return contador;
                }
                };
                })();
                </p>
            </div>
        </div>
    </div>

    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Juegos de adivinar</h2>
                <div class="cuerpo">
                    <p>
                    <ul>
                        <li>Crear una función que genere un número aleatorio entre 1 y 100 y permita al usuario
                            adivinarlo</li>
                        <li>Implementar una función que pida al usuario que introduzca un número y le diga si es mayor,
                            menor o igual al
                            número aleatorio.</li>
                        <li>Añadir un contador de intentos y mostrar un mensaje cuando el usuario adivine el número.
                        </li>
                        <li>Permitir que el usuario pueda jugar de nuevo.</li>
                        <li>Crear una función que permita al usuario elegir el rango de números a adivinar.</li>
                    </ul>
                    </p>
                    <button id="Numeros-Aleatoreos">Numeros Aleatoreos</button>
                    <script>
                        function juegoAdivinar() {
                            const numeroSecreto = Math.floor(Math.random() * 100) + 1;
                            let intentos = 0;
                            let adivinado = false;

                            while (!adivinado) {
                                const entrada = prompt('Adivina el número entre 1 y 100:');
                                const numeroUsuario = Number(entrada);
                                intentos++;

                                if (numeroUsuario === numeroSecreto) {
                                    adivinado = true;
                                    alert(`¡Felicidades! Adivinaste el número ${numeroSecreto} en ${intentos} intentos.`);
                                } else if (numeroUsuario < numeroSecreto) {
                                    alert('El número es mayor. Intenta de nuevo.');
                                } else if (numeroUsuario > numeroSecreto) {
                                    alert('El número es menor. Intenta de nuevo.');
                                } else {
                                    alert('Por favor, introduce un número válido.');
                                }
                            }
                        }
                        const NumerosAleatoreos = document.getElementById('Numeros-Aleatoreos');
                        NumerosAleatoreos.addEventListener('click', () => {
                            juegoAdivinar();
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <img src="Imagenes/Screenshot 2025-09-04 085423.png" />
            </div>
        </div>
    </div>


    <div class="tarjeta">
        <div class="contenido">
            <div class="ladoIzq">
                <h2 class="titulo">Ejercicio Personal</h2>
                <div class="cuerpo">
                    <p>
                        El código define una función de orden superior llamada crearSaludo, la cual genera funciones
                        personalizadas que recuerdan un saludo específico gracias a los closures. Con esta función se
                        crean saludos distintos como “Buenos días”, “Hola” y “Bienvenido”, que luego se aplican a
                        diferentes nombres.
                    </p>
                    <button id="saludarJuan">Saludar a Juan</button>
                    <button id="saludarAna">Saludar a Ana</button>
                    <button id="saludarInvitado">Saludar a Invitado</button>
                    <script>
                        // Función de orden superior que crea saludadores
                        function crearSaludo(saludo) {
                            return function (nombre) {  // Closure que recuerda 'saludo'
                                return saludo + ", " + nombre + "!";
                            };
                        }
                        // Creamos funciones personalizadas
                        const saludoFormal = crearSaludo("Buenos días");
                        const saludoCasual = crearSaludo("Hola");
                        const saludoDefault = crearSaludo("Bienvenido");
                        // Obtenemos botones del DOM
                        const botonJuan = document.getElementById("saludarJuan");
                        const botonAna = document.getElementById("saludarAna");
                        const botonInvitado = document.getElementById("saludarInvitado");
                        // Eventos usando las funciones creadas
                        botonJuan.addEventListener("click", () => {
                            alert(saludoFormal("Juan")); // "Buenos días, Juan!"
                        });
                        botonAna.addEventListener("click", () => {
                            alert(saludoCasual("Ana")); // "Hola, Ana!"
                        });
                        botonInvitado.addEventListener("click", () => {
                            alert(saludoDefault("Invitado")); // "Bienvenido, Invitado!"
                        });
                    </script>
                </div>
            </div>
            <div class="ladoDer">
                <img src="Imagenes/Screenshot 2025-09-04 091009.png" />
            </div>
        </div>
    </div>

</body>

</html>